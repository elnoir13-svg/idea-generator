(()=>{"use strict";const t=JSON.parse('[{"id":"property-race","name":"ç¨®æ—","optionsToGenerate":1,"options":[{"id":"option-race-1","text":"äººé¡"},{"id":"option-race-2","text":"ç²¾éˆ"},{"id":"option-race-3","text":"ç¸äºº"},{"id":"option-race-4","text":"é¾äºº"},{"id":"option-race-5","text":"åŠç¸äºº"},{"id":"option-race-6","text":"å¸è¡€é¬¼"},{"id":"option-race-7","text":"å¤©ä½¿"},{"id":"option-race-8","text":"æƒ¡é­”"},{"id":"option-race-9","text":"çŸ®äºº"},{"id":"option-race-10","text":"ç‹äºº"},{"id":"option-race-11","text":"æµ·å¦–"},{"id":"option-race-12","text":"åŠç²¾éˆ"},{"id":"option-race-13","text":"åŠé¾äºº"},{"id":"option-race-14","text":"æ©Ÿæ¢°æ—"},{"id":"option-race-15","text":"æ¨¹ç²¾"},{"id":"option-race-16","text":"å½±æ—"},{"id":"option-race-17","text":"å·¨äºº"},{"id":"option-race-18","text":"å¦–ç²¾"},{"id":"option-race-19","text":"è›‡äºº"},{"id":"option-race-20","text":"èœ¥èœ´äºº"}]},{"id":"property-bodytype","name":"é«”å‹","optionsToGenerate":1,"options":[{"id":"option-bodytype-1","text":"é«˜æŒ‘çº–ç´°"},{"id":"option-bodytype-2","text":"å¬Œå°å¯æ„›"},{"id":"option-bodytype-3","text":"å£¯ç¢©çµå¯¦"},{"id":"option-bodytype-4","text":"è‹—æ¢å„ªé›…"},{"id":"option-bodytype-5","text":"ä¸­ç­‰å‹»ç¨±"},{"id":"option-bodytype-6","text":"çŸ®å°å¥å£¯"},{"id":"option-bodytype-7","text":"æ›²ç·šç²ç“"},{"id":"option-bodytype-8","text":"éª¨æ¶çº–ç´°"},{"id":"option-bodytype-9","text":"åšå¯¦å¯¬è‚©"},{"id":"option-bodytype-10","text":"ä¿®é•·é‹å‹•å‹"},{"id":"option-bodytype-11","text":"å‹»ç¨±å¥ç¾"},{"id":"option-bodytype-12","text":"ç˜¦é•·éˆå·§"},{"id":"option-bodytype-13","text":"å¼·å£¯é­æ¢§"},{"id":"option-bodytype-14","text":"çº–ç˜¦æ•æ·"},{"id":"option-bodytype-15","text":"åœ“æ½¤å¯è¦ª"},{"id":"option-bodytype-16","text":"ç·Šå¯¦çµå¯¦"},{"id":"option-bodytype-17","text":"æŸ”éŸŒç´°é•·"},{"id":"option-bodytype-18","text":"è¼•ç›ˆé£„é€¸"},{"id":"option-bodytype-19","text":"ç©©é‡åšå¯¦"},{"id":"option-bodytype-20","text":"éˆå·§å¬Œå°"}]},{"id":"property-hairstyle","name":"é«®å‹","optionsToGenerate":1,"options":[{"id":"option-hairstyle-1","text":"é•·ç›´é«®"},{"id":"option-hairstyle-2","text":"çŸ­æ²é«®"},{"id":"option-hairstyle-3","text":"é¦¬å°¾"},{"id":"option-hairstyle-4","text":"é›™é¦¬å°¾"},{"id":"option-hairstyle-5","text":"ç·¨è¾®é•·é«®"},{"id":"option-hairstyle-6","text":"æ³¢æµªé•·é«®"},{"id":"option-hairstyle-7","text":"é«˜ä¸¸å­é ­"},{"id":"option-hairstyle-8","text":"å´åˆ†çŸ­é«®"},{"id":"option-hairstyle-9","text":"ä¸­é•·å±¤æ¬¡"},{"id":"option-hairstyle-10","text":"å¹³é½ŠçŸ­é«®"},{"id":"option-hairstyle-11","text":"ä¸å°ç¨±çŸ­é«®"},{"id":"option-hairstyle-12","text":"é¬¢è§’ç·¨è¾®"},{"id":"option-hairstyle-13","text":"é«˜é¦¬å°¾"},{"id":"option-hairstyle-14","text":"ä½é¦¬å°¾"},{"id":"option-hairstyle-15","text":"é«®å°¾å¤–ç¿»"},{"id":"option-hairstyle-16","text":"é½Šç€æµ·é•·é«®"},{"id":"option-hairstyle-17","text":"ä¸­åˆ†é•·é«®"},{"id":"option-hairstyle-18","text":"ç‰ç±³é¬šæ²"},{"id":"option-hairstyle-19","text":"åŠæŸé•·é«®"},{"id":"option-hairstyle-20","text":"é®‘ä¼¯é ­"}]},{"id":"property-hairstyle2","name":"é«®å‹(äºŒï¼‰","optionsToGenerate":1,"options":[{"id":"option-hairstyle2-1","text":"æŒ‘æŸ“é«®çµ²"},{"id":"option-hairstyle2-2","text":"é«®å¤¾é»ç¶´"},{"id":"option-hairstyle2-3","text":"é«®å¸¶æŸé«®"},{"id":"option-hairstyle2-4","text":"çš‡å† é ­é£¾"},{"id":"option-hairstyle2-5","text":"é ­ç´—è¦†é ‚"},{"id":"option-hairstyle2-6","text":"é«®ç°ªå›ºå®š"},{"id":"option-hairstyle2-7","text":"ç¾½æ¯›è£é£¾"},{"id":"option-hairstyle2-8","text":"çµ²å¸¶è´è¶çµ"},{"id":"option-hairstyle2-9","text":"é‡‘å±¬é«®åœˆ"},{"id":"option-hairstyle2-10","text":"çç é«®éˆ"},{"id":"option-hairstyle2-11","text":"çš®è³ªé ­ç®"},{"id":"option-hairstyle2-12","text":"èŠ±ç’°å† "},{"id":"option-hairstyle2-13","text":"éˆæ¢é«®é£¾"},{"id":"option-hairstyle2-14","text":"å¸ƒè—å¤§è´è¶çµ"},{"id":"option-hairstyle2-15","text":"æ°´æ™¶é«®é‡µ"},{"id":"option-hairstyle2-16","text":"å½©è‰²é«®æŸ"},{"id":"option-hairstyle2-17","text":"é«®ç®"},{"id":"option-hairstyle2-18","text":"è¿·ä½ ç¦®å¸½"},{"id":"option-hairstyle2-19","text":"é¢¨éˆ´é«®é£¾"},{"id":"option-hairstyle2-20","text":"è§’é£¾ç¶å¸¶"}]},{"id":"property-personality","name":"æ€§æ ¼","optionsToGenerate":1,"options":[{"id":"option-personality-1","text":"é–‹æœ—æ´»æ½‘"},{"id":"option-personality-2","text":"æ²‰è‘—å†·éœ"},{"id":"option-personality-3","text":"å‚²å¬Œå˜´ç¡¬"},{"id":"option-personality-4","text":"å…§å‘å®³ç¾"},{"id":"option-personality-5","text":"å†·é…·ç„¡æƒ…"},{"id":"option-personality-6","text":"æ¨‚è§€å–®ç´”"},{"id":"option-personality-7","text":"ç‹¡çŒ¾å¤šè¬€"},{"id":"option-personality-8","text":"æº«æŸ”é«”è²¼"},{"id":"option-personality-9","text":"æ­£ç›´å …æ¯…"},{"id":"option-personality-10","text":"åœ“æ»‘ä¸–æ•…"},{"id":"option-personality-11","text":"å¤éˆç²¾æ€ª"},{"id":"option-personality-12","text":"å‹‡æ•¢è¡å‹•"},{"id":"option-personality-13","text":"å¯¡è¨€å¯©æ…"},{"id":"option-personality-14","text":"é¢¨è¶£å¹½é»˜"},{"id":"option-personality-15","text":"æ‚²å¤©æ†«äºº"},{"id":"option-personality-16","text":"å……æ»¿å¥½å¥‡"},{"id":"option-personality-17","text":"é‡æƒ…é‡ç¾©"},{"id":"option-personality-18","text":"ç†æ€§å…‹åˆ¶"},{"id":"option-personality-19","text":"è‡ªä¿¡å¼µæš"},{"id":"option-personality-20","text":"ä»»æ€§å›é€†"}]},{"id":"property-clothing","name":"è¡£æœ","optionsToGenerate":1,"options":[{"id":"option-clothing-1","text":"é§ç”²æˆ°è£"},{"id":"option-clothing-2","text":"å’Œæœ"},{"id":"option-clothing-3","text":"å­¸é™¢åˆ¶æœ"},{"id":"option-clothing-4","text":"çš®é©é§ç”²"},{"id":"option-clothing-5","text":"é­”æ³•é•·è¢"},{"id":"option-clothing-6","text":"è¼•ä¾¿æ—…è¡Œæœ"},{"id":"option-clothing-7","text":"è²´æ—ç¦®æœ"},{"id":"option-clothing-8","text":"å¿è€…è£æŸ"},{"id":"option-clothing-9","text":"ç‰§å¸«æ³•è¡£"},{"id":"option-clothing-10","text":"çµäººè£"},{"id":"option-clothing-11","text":"å•†æ—…æŠ«é¢¨"},{"id":"option-clothing-12","text":"æµ·ç›œæœ"},{"id":"option-clothing-13","text":"å·¥åŒ åœè£™"},{"id":"option-clothing-14","text":"åŸéŠè©©äººæœ"},{"id":"option-clothing-15","text":"ç ‚æ¼ é•·è¢"},{"id":"option-clothing-16","text":"åŒ—å¢ƒæ¯›çš®è£"},{"id":"option-clothing-17","text":"éƒ½å¸‚ä¾¿æœ"},{"id":"option-clothing-18","text":"å„€å¼ç¥­è¢"},{"id":"option-clothing-19","text":"é¨å£«ç¦®è£"},{"id":"option-clothing-20","text":"çš‡å®¶è¿‘è¡›æœ"}]},{"id":"property-maincolor","name":"ä¸»è‰²","optionsToGenerate":1,"options":[{"id":"option-maincolor-1","text":"ç´…è‰²"},{"id":"option-maincolor-2","text":"è—è‰²"},{"id":"option-maincolor-3","text":"é»‘è‰²"},{"id":"option-maincolor-4","text":"ç™½è‰²"},{"id":"option-maincolor-5","text":"é‡‘è‰²"},{"id":"option-maincolor-6","text":"éŠ€è‰²"},{"id":"option-maincolor-7","text":"ç¶ è‰²"},{"id":"option-maincolor-8","text":"ç´«è‰²"},{"id":"option-maincolor-9","text":"æ©™è‰²"},{"id":"option-maincolor-10","text":"é’è‰²"},{"id":"option-maincolor-11","text":"é›è‰²"},{"id":"option-maincolor-12","text":"å“ç´…"},{"id":"option-maincolor-13","text":"æ£•è‰²"},{"id":"option-maincolor-14","text":"ç°è‰²"},{"id":"option-maincolor-15","text":"ç±³è‰²"},{"id":"option-maincolor-16","text":"é’ç¶ "},{"id":"option-maincolor-17","text":"èµ­è‰²"},{"id":"option-maincolor-18","text":"ç«ç‘°ç´…"},{"id":"option-maincolor-19","text":"æ·ºè—"},{"id":"option-maincolor-20","text":"æ·±ç¶ "}]},{"id":"property-accessory","name":"é…ä»¶","optionsToGenerate":1,"options":[{"id":"option-accessory-1","text":"è€³ç’°"},{"id":"option-accessory-2","text":"æŠ«é¢¨"},{"id":"option-accessory-3","text":"é …éŠ"},{"id":"option-accessory-4","text":"è­·è…•"},{"id":"option-accessory-5","text":"è…°å¸¶"},{"id":"option-accessory-6","text":"æˆ’æŒ‡"},{"id":"option-accessory-7","text":"èƒ¸é‡"},{"id":"option-accessory-8","text":"çœ¼ç½©"},{"id":"option-accessory-9","text":"éŠå¢œ"},{"id":"option-accessory-10","text":"è‚©ç« "},{"id":"option-accessory-11","text":"è…°åŒ…"},{"id":"option-accessory-12","text":"é ­å·¾"},{"id":"option-accessory-13","text":"æ‰‹å¥—"},{"id":"option-accessory-14","text":"è…³éŠ"},{"id":"option-accessory-15","text":"é«®ç¶²"},{"id":"option-accessory-16","text":"è…°é–“å°åŒ…"},{"id":"option-accessory-17","text":"æ‡·éŒ¶"},{"id":"option-accessory-18","text":"ç‰ä½©"},{"id":"option-accessory-19","text":"è‡‚ç’°"},{"id":"option-accessory-20","text":"æ‡·éŒ¶éŠ"}]},{"id":"property-weapon","name":"æ­¦å™¨","optionsToGenerate":1,"options":[{"id":"option-weapon-1","text":"é•·åŠ"},{"id":"option-weapon-2","text":"å¼“ç®­"},{"id":"option-weapon-3","text":"æ³•æ–"},{"id":"option-weapon-4","text":"é›™åˆ€"},{"id":"option-weapon-5","text":"é•·æ§"},{"id":"option-weapon-6","text":"é£›åˆ€"},{"id":"option-weapon-7","text":"å·¨æ–§"},{"id":"option-weapon-8","text":"é€£å¼©"},{"id":"option-weapon-9","text":"æˆŸ"},{"id":"option-weapon-10","text":"åŒ•é¦–"},{"id":"option-weapon-11","text":"æˆ°éŒ˜"},{"id":"option-weapon-12","text":"é®åˆ€"},{"id":"option-weapon-13","text":"é•·é­"},{"id":"option-weapon-14","text":"ç›¾ç‰Œ"},{"id":"option-weapon-15","text":"æµæ˜ŸéŒ˜"},{"id":"option-weapon-16","text":"åˆºåŠ"},{"id":"option-weapon-17","text":"æ–§æ§"},{"id":"option-weapon-18","text":"æ‰‹é‡ŒåŠ"},{"id":"option-weapon-19","text":"é­”å°æ›¸"},{"id":"option-weapon-20","text":"é‡å¼©"}]},{"id":"property-element","name":"å±¬æ€§","optionsToGenerate":1,"options":[{"id":"option-element-1","text":"ç«"},{"id":"option-element-2","text":"æ°´"},{"id":"option-element-3","text":"é¢¨"},{"id":"option-element-4","text":"åœŸ"},{"id":"option-element-5","text":"å…‰"},{"id":"option-element-6","text":"æš—"},{"id":"option-element-7","text":"å†°"},{"id":"option-element-8","text":"é›·"},{"id":"option-element-9","text":"æœ¨"},{"id":"option-element-10","text":"é‡‘"},{"id":"option-element-11","text":"å½±"},{"id":"option-element-12","text":"è–"},{"id":"option-element-13","text":"æ¯’"},{"id":"option-element-14","text":"éœ§"},{"id":"option-element-15","text":"ç ‚"},{"id":"option-element-16","text":"å²©"},{"id":"option-element-17","text":"æ™‚"},{"id":"option-element-18","text":"ç©º"},{"id":"option-element-19","text":"å¹»"},{"id":"option-element-20","text":"éŸ³"}]},{"id":"property-other1","name":"å…¶ä»–","optionsToGenerate":1,"options":[{"id":"option-other1-1","text":"é¢å…·"},{"id":"option-other1-2","text":"å£ç´"},{"id":"option-other1-3","text":"å¤æ›¸"},{"id":"option-other1-4","text":"æ‡·éŒ¶"},{"id":"option-other1-5","text":"æ›é£¾ç“¶"},{"id":"option-other1-6","text":"ç¾½æ¯›ç­†"},{"id":"option-other1-7","text":"é…’å£º"},{"id":"option-other1-8","text":"å·è»¸"},{"id":"option-other1-9","text":"é­”è—¥ç“¶"},{"id":"option-other1-10","text":"è¨˜äº‹æœ¬"},{"id":"option-other1-11","text":"æŠ˜æ‰‡"},{"id":"option-other1-12","text":"é¦™å›Š"},{"id":"option-other1-13","text":"ç¥ˆç¦±ç "},{"id":"option-other1-14","text":"è­·èº«éˆ´"},{"id":"option-other1-15","text":"ç«æ¼†å°"},{"id":"option-other1-16","text":"æ—…è€…æ—¥èªŒ"},{"id":"option-other1-17","text":"å°æç‡ˆ"},{"id":"option-other1-18","text":"ä¹¾è‚‰è¢‹"},{"id":"option-other1-19","text":"çŸ³æ¿ç‰‡"},{"id":"option-other1-20","text":"ä¿¡ç‰©å¾½ç« "}]},{"id":"property-other2","name":"å…¶ä»–ï¼ˆäºŒï¼‰","optionsToGenerate":1,"options":[{"id":"option-other2-1","text":"é­”æ³•çŸ³"},{"id":"option-other2-2","text":"è­·ç¬¦"},{"id":"option-other2-3","text":"ç¾…ç›¤"},{"id":"option-other2-4","text":"æ°´æ™¶çƒ"},{"id":"option-other2-5","text":"ç¬¦ç´™"},{"id":"option-other2-6","text":"åœ°åœ–"},{"id":"option-other2-7","text":"æ¨‚å™¨"},{"id":"option-other2-8","text":"æœ›é é¡"},{"id":"option-other2-9","text":"é‘°åŒ™ä¸²"},{"id":"option-other2-10","text":"å‚³é€ç‰ç‰Œ"},{"id":"option-other2-11","text":"è§£æ¯’è—¥"},{"id":"option-other2-12","text":"éš±å½¢ç²‰"},{"id":"option-other2-13","text":"æ™‚ç ‚æ²™æ¼"},{"id":"option-other2-14","text":"ç ´å’’æˆ’"},{"id":"option-other2-15","text":"é¢¨å‘å„€"},{"id":"option-other2-16","text":"èƒ½é‡æ ¸å¿ƒ"},{"id":"option-other2-17","text":"åƒé‡Œå‚³æ›¸"},{"id":"option-other2-18","text":"æ•å¤¢ç¶²"},{"id":"option-other2-19","text":"ç¥è–ç“¶"},{"id":"option-other2-20","text":"éˆé­‚ç‡ˆ"}]},{"id":"property-other3","name":"å…¶ä»–ï¼ˆä¸‰ï¼‰","optionsToGenerate":1,"options":[{"id":"option-other3-1","text":"å°å‹•ç‰©å¤¥ä¼´"},{"id":"option-other3-2","text":"åé¨"},{"id":"option-other3-3","text":"éš±å½¢æ–—ç¯·"},{"id":"option-other3-4","text":"å®¶å‚³æˆ’æŒ‡"},{"id":"option-other3-5","text":"ç¾½ç¿¼"},{"id":"option-other3-6","text":"é¾é±—è­·è‚©"},{"id":"option-other3-7","text":"é­”æ³•æˆ’æŒ‡"},{"id":"option-other3-8","text":"å¹¸é‹ç¡¬å¹£"},{"id":"option-other3-9","text":"é­”å°ç¾©çœ¼"},{"id":"option-other3-10","text":"æ‡¸æµ®æ»‘æ¿"},{"id":"option-other3-11","text":"æ©Ÿæ¢°æ‰‹è‡‚"},{"id":"option-other3-12","text":"å…ƒç´ è­·ç¬¦"},{"id":"option-other3-13","text":"æš—å½±æ–—ç¯·"},{"id":"option-other3-14","text":"è–å¾½"},{"id":"option-other3-15","text":"æ˜Ÿåœ–ç›¤"},{"id":"option-other3-16","text":"ä¾¿æ”œéŠé‡‘å°"},{"id":"option-other3-17","text":"è™›ç©ºå£è¢‹"},{"id":"option-other3-18","text":"è®Šå½¢æŠ«å·¾"},{"id":"option-other3-19","text":"å¬å–šå°è¨˜"},{"id":"option-other3-20","text":"é˜²çˆ†è­·ç¬¦"}]}]'),e=JSON.parse('[{"id":"property-race","name":"Race","optionsToGenerate":1,"options":[{"id":"option-race-1","text":"Human"},{"id":"option-race-2","text":"Elf"},{"id":"option-race-3","text":"Orc"},{"id":"option-race-4","text":"Dragonborn"},{"id":"option-race-5","text":"Half-Orc"},{"id":"option-race-6","text":"Vampire"},{"id":"option-race-7","text":"Angel"},{"id":"option-race-8","text":"Demon"},{"id":"option-race-9","text":"Dwarf"},{"id":"option-race-10","text":"Fox Folk"},{"id":"option-race-11","text":"Siren"},{"id":"option-race-12","text":"Half-Elf"},{"id":"option-race-13","text":"Half-Dragon"},{"id":"option-race-14","text":"Construct"},{"id":"option-race-15","text":"Dryad"},{"id":"option-race-16","text":"Shadow Folk"},{"id":"option-race-17","text":"Giant"},{"id":"option-race-18","text":"Fairy"},{"id":"option-race-19","text":"Naga"},{"id":"option-race-20","text":"Lizardfolk"}]},{"id":"property-bodytype","name":"Body Type","optionsToGenerate":1,"options":[{"id":"option-bodytype-1","text":"Tall and Slender"},{"id":"option-bodytype-2","text":"Petite and Cute"},{"id":"option-bodytype-3","text":"Muscular and Strong"},{"id":"option-bodytype-4","text":"Slim and Elegant"},{"id":"option-bodytype-5","text":"Average Build"},{"id":"option-bodytype-6","text":"Short and Sturdy"},{"id":"option-bodytype-7","text":"Curvy"},{"id":"option-bodytype-8","text":"Delicate Frame"},{"id":"option-bodytype-9","text":"Broad Shouldered"},{"id":"option-bodytype-10","text":"Athletic"},{"id":"option-bodytype-11","text":"Well-Proportioned"},{"id":"option-bodytype-12","text":"Lean and Agile"},{"id":"option-bodytype-13","text":"Burly"},{"id":"option-bodytype-14","text":"Lithe"},{"id":"option-bodytype-15","text":"Plump"},{"id":"option-bodytype-16","text":"Toned"},{"id":"option-bodytype-17","text":"Flexible"},{"id":"option-bodytype-18","text":"Graceful"},{"id":"option-bodytype-19","text":"Stocky"},{"id":"option-bodytype-20","text":"Nimble"}]},{"id":"property-hairstyle","name":"Hair Style","optionsToGenerate":1,"options":[{"id":"option-hairstyle-1","text":"Long Straight Hair"},{"id":"option-hairstyle-2","text":"Short Curly Hair"},{"id":"option-hairstyle-3","text":"Ponytail"},{"id":"option-hairstyle-4","text":"Twin Tails"},{"id":"option-hairstyle-5","text":"Braided Long Hair"},{"id":"option-hairstyle-6","text":"Wavy Long Hair"},{"id":"option-hairstyle-7","text":"High Bun"},{"id":"option-hairstyle-8","text":"Side-Parted Short Hair"},{"id":"option-hairstyle-9","text":"Medium Layered"},{"id":"option-hairstyle-10","text":"Bob Cut"},{"id":"option-hairstyle-11","text":"Asymmetrical Short Hair"},{"id":"option-hairstyle-12","text":"Side Braids"},{"id":"option-hairstyle-13","text":"High Ponytail"},{"id":"option-hairstyle-14","text":"Low Ponytail"},{"id":"option-hairstyle-15","text":"Flipped Ends"},{"id":"option-hairstyle-16","text":"Long Hair with Bangs"},{"id":"option-hairstyle-17","text":"Center-Parted Long Hair"},{"id":"option-hairstyle-18","text":"Crimped Hair"},{"id":"option-hairstyle-19","text":"Half-Up Hair"},{"id":"option-hairstyle-20","text":"Bob Cut"}]},{"id":"property-hairstyle2","name":"Hair Accessories","optionsToGenerate":1,"options":[{"id":"option-hairstyle2-1","text":"Highlighted Strands"},{"id":"option-hairstyle2-2","text":"Hair Clips"},{"id":"option-hairstyle2-3","text":"Hair Band"},{"id":"option-hairstyle2-4","text":"Crown"},{"id":"option-hairstyle2-5","text":"Veil"},{"id":"option-hairstyle2-6","text":"Hair Pin"},{"id":"option-hairstyle2-7","text":"Feather Ornament"},{"id":"option-hairstyle2-8","text":"Ribbon Bow"},{"id":"option-hairstyle2-9","text":"Metal Circlet"},{"id":"option-hairstyle2-10","text":"Pearl Hair Chain"},{"id":"option-hairstyle2-11","text":"Leather Headband"},{"id":"option-hairstyle2-12","text":"Flower Crown"},{"id":"option-hairstyle2-13","text":"Chain Hair Accessory"},{"id":"option-hairstyle2-14","text":"Large Fabric Bow"},{"id":"option-hairstyle2-15","text":"Crystal Hair Pin"},{"id":"option-hairstyle2-16","text":"Colorful Hair Ties"},{"id":"option-hairstyle2-17","text":"Headband"},{"id":"option-hairstyle2-18","text":"Mini Hat"},{"id":"option-hairstyle2-19","text":"Wind Chime Hair Ornament"},{"id":"option-hairstyle2-20","text":"Horn Decorative Ties"}]},{"id":"property-personality","name":"Personality","optionsToGenerate":1,"options":[{"id":"option-personality-1","text":"Cheerful and Lively"},{"id":"option-personality-2","text":"Calm and Composed"},{"id":"option-personality-3","text":"Tsundere"},{"id":"option-personality-4","text":"Shy and Introverted"},{"id":"option-personality-5","text":"Cold and Ruthless"},{"id":"option-personality-6","text":"Optimistic and Naive"},{"id":"option-personality-7","text":"Cunning and Scheming"},{"id":"option-personality-8","text":"Gentle and Caring"},{"id":"option-personality-9","text":"Righteous and Determined"},{"id":"option-personality-10","text":"Diplomatic"},{"id":"option-personality-11","text":"Quirky and Mischievous"},{"id":"option-personality-12","text":"Brave and Impulsive"},{"id":"option-personality-13","text":"Reserved and Cautious"},{"id":"option-personality-14","text":"Witty and Humorous"},{"id":"option-personality-15","text":"Compassionate"},{"id":"option-personality-16","text":"Curious"},{"id":"option-personality-17","text":"Loyal"},{"id":"option-personality-18","text":"Rational and Controlled"},{"id":"option-personality-19","text":"Confident and Bold"},{"id":"option-personality-20","text":"Rebellious"}]},{"id":"property-clothing","name":"Clothing","optionsToGenerate":1,"options":[{"id":"option-clothing-1","text":"Armor"},{"id":"option-clothing-2","text":"Kimono"},{"id":"option-clothing-3","text":"School Uniform"},{"id":"option-clothing-4","text":"Leather Armor"},{"id":"option-clothing-5","text":"Magic Robes"},{"id":"option-clothing-6","text":"Travel Clothes"},{"id":"option-clothing-7","text":"Noble Dress"},{"id":"option-clothing-8","text":"Ninja Outfit"},{"id":"option-clothing-9","text":"Priest Robes"},{"id":"option-clothing-10","text":"Hunter Gear"},{"id":"option-clothing-11","text":"Merchant Cloak"},{"id":"option-clothing-12","text":"Pirate Outfit"},{"id":"option-clothing-13","text":"Craftsman Apron"},{"id":"option-clothing-14","text":"Bard Costume"},{"id":"option-clothing-15","text":"Desert Robes"},{"id":"option-clothing-16","text":"Northern Fur Clothing"},{"id":"option-clothing-17","text":"Casual Wear"},{"id":"option-clothing-18","text":"Ceremonial Robes"},{"id":"option-clothing-19","text":"Knight\'s Formal Wear"},{"id":"option-clothing-20","text":"Royal Guard Uniform"}]},{"id":"property-maincolor","name":"Main Color","optionsToGenerate":1,"options":[{"id":"option-maincolor-1","text":"Red"},{"id":"option-maincolor-2","text":"Blue"},{"id":"option-maincolor-3","text":"Black"},{"id":"option-maincolor-4","text":"White"},{"id":"option-maincolor-5","text":"Gold"},{"id":"option-maincolor-6","text":"Silver"},{"id":"option-maincolor-7","text":"Green"},{"id":"option-maincolor-8","text":"Purple"},{"id":"option-maincolor-9","text":"Orange"},{"id":"option-maincolor-10","text":"Cyan"},{"id":"option-maincolor-11","text":"Indigo"},{"id":"option-maincolor-12","text":"Magenta"},{"id":"option-maincolor-13","text":"Brown"},{"id":"option-maincolor-14","text":"Gray"},{"id":"option-maincolor-15","text":"Beige"},{"id":"option-maincolor-16","text":"Teal"},{"id":"option-maincolor-17","text":"Ochre"},{"id":"option-maincolor-18","text":"Rose"},{"id":"option-maincolor-19","text":"Light Blue"},{"id":"option-maincolor-20","text":"Dark Green"}]},{"id":"property-accessory","name":"Accessory","optionsToGenerate":1,"options":[{"id":"option-accessory-1","text":"Earrings"},{"id":"option-accessory-2","text":"Cloak"},{"id":"option-accessory-3","text":"Necklace"},{"id":"option-accessory-4","text":"Bracers"},{"id":"option-accessory-5","text":"Belt"},{"id":"option-accessory-6","text":"Ring"},{"id":"option-accessory-7","text":"Brooch"},{"id":"option-accessory-8","text":"Eye Patch"},{"id":"option-accessory-9","text":"Pendant"},{"id":"option-accessory-10","text":"Shoulder Pads"},{"id":"option-accessory-11","text":"Pouch"},{"id":"option-accessory-12","text":"Headscarf"},{"id":"option-accessory-13","text":"Gloves"},{"id":"option-accessory-14","text":"Anklet"},{"id":"option-accessory-15","text":"Hair Net"},{"id":"option-accessory-16","text":"Small Belt Bag"},{"id":"option-accessory-17","text":"Pocket Watch"},{"id":"option-accessory-18","text":"Jade Pendant"},{"id":"option-accessory-19","text":"Armband"},{"id":"option-accessory-20","text":"Watch Chain"}]},{"id":"property-weapon","name":"Weapon","optionsToGenerate":1,"options":[{"id":"option-weapon-1","text":"Longsword"},{"id":"option-weapon-2","text":"Bow and Arrow"},{"id":"option-weapon-3","text":"Staff"},{"id":"option-weapon-4","text":"Dual Blades"},{"id":"option-weapon-5","text":"Spear"},{"id":"option-weapon-6","text":"Throwing Knives"},{"id":"option-weapon-7","text":"Great Axe"},{"id":"option-weapon-8","text":"Crossbow"},{"id":"option-weapon-9","text":"Halberd"},{"id":"option-weapon-10","text":"Dagger"},{"id":"option-weapon-11","text":"War Hammer"},{"id":"option-weapon-12","text":"Scythe"},{"id":"option-weapon-13","text":"Whip"},{"id":"option-weapon-14","text":"Shield"},{"id":"option-weapon-15","text":"Flail"},{"id":"option-weapon-16","text":"Rapier"},{"id":"option-weapon-17","text":"Poleaxe"},{"id":"option-weapon-18","text":"Shuriken"},{"id":"option-weapon-19","text":"Grimoire"},{"id":"option-weapon-20","text":"Heavy Crossbow"}]},{"id":"property-element","name":"Element","optionsToGenerate":1,"options":[{"id":"option-element-1","text":"Fire"},{"id":"option-element-2","text":"Water"},{"id":"option-element-3","text":"Wind"},{"id":"option-element-4","text":"Earth"},{"id":"option-element-5","text":"Light"},{"id":"option-element-6","text":"Dark"},{"id":"option-element-7","text":"Ice"},{"id":"option-element-8","text":"Lightning"},{"id":"option-element-9","text":"Wood"},{"id":"option-element-10","text":"Metal"},{"id":"option-element-11","text":"Shadow"},{"id":"option-element-12","text":"Holy"},{"id":"option-element-13","text":"Poison"},{"id":"option-element-14","text":"Mist"},{"id":"option-element-15","text":"Sand"},{"id":"option-element-16","text":"Rock"},{"id":"option-element-17","text":"Time"},{"id":"option-element-18","text":"Space"},{"id":"option-element-19","text":"Illusion"},{"id":"option-element-20","text":"Sound"}]},{"id":"property-other1","name":"Other","optionsToGenerate":1,"options":[{"id":"option-other1-1","text":"Mask"},{"id":"option-other1-2","text":"Harmonica"},{"id":"option-other1-3","text":"Ancient Book"},{"id":"option-other1-4","text":"Pocket Watch"},{"id":"option-other1-5","text":"Ornament Bottle"},{"id":"option-other1-6","text":"Quill Pen"},{"id":"option-other1-7","text":"Flask"},{"id":"option-other1-8","text":"Scroll"},{"id":"option-other1-9","text":"Potion Bottle"},{"id":"option-other1-10","text":"Notebook"},{"id":"option-other1-11","text":"Folding Fan"},{"id":"option-other1-12","text":"Sachet"},{"id":"option-other1-13","text":"Prayer Beads"},{"id":"option-other1-14","text":"Protective Bell"},{"id":"option-other1-15","text":"Wax Seal"},{"id":"option-other1-16","text":"Travel Journal"},{"id":"option-other1-17","text":"Small Lantern"},{"id":"option-other1-18","text":"Dried Meat Pouch"},{"id":"option-other1-19","text":"Stone Tablet"},{"id":"option-other1-20","text":"Token Badge"}]},{"id":"property-other2","name":"Other (2)","optionsToGenerate":1,"options":[{"id":"option-other2-1","text":"Magic Stone"},{"id":"option-other2-2","text":"Amulet"},{"id":"option-other2-3","text":"Compass"},{"id":"option-other2-4","text":"Crystal Ball"},{"id":"option-other2-5","text":"Talisman Paper"},{"id":"option-other2-6","text":"Map"},{"id":"option-other2-7","text":"Musical Instrument"},{"id":"option-other2-8","text":"Telescope"},{"id":"option-other2-9","text":"Key Ring"},{"id":"option-other2-10","text":"Teleportation Jade"},{"id":"option-other2-11","text":"Antidote"},{"id":"option-other2-12","text":"Invisibility Powder"},{"id":"option-other2-13","text":"Time Sand Hourglass"},{"id":"option-other2-14","text":"Curse-Breaking Ring"},{"id":"option-other2-15","text":"Wind Vane"},{"id":"option-other2-16","text":"Energy Core"},{"id":"option-other2-17","text":"Message Scroll"},{"id":"option-other2-18","text":"Dream Catcher"},{"id":"option-other2-19","text":"Blessed Bottle"},{"id":"option-other2-20","text":"Soul Lamp"}]},{"id":"property-other3","name":"Other (3)","optionsToGenerate":1,"options":[{"id":"option-other3-1","text":"Animal Companion"},{"id":"option-other3-2","text":"Mount"},{"id":"option-other3-3","text":"Invisibility Cloak"},{"id":"option-other3-4","text":"Family Ring"},{"id":"option-other3-5","text":"Wings"},{"id":"option-other3-6","text":"Dragon Scale Pauldron"},{"id":"option-other3-7","text":"Magic Ring"},{"id":"option-other3-8","text":"Lucky Coin"},{"id":"option-other3-9","text":"Magical Prosthetic Eye"},{"id":"option-other3-10","text":"Floating Board"},{"id":"option-other3-11","text":"Mechanical Arm"},{"id":"option-other3-12","text":"Elemental Charm"},{"id":"option-other3-13","text":"Shadow Cloak"},{"id":"option-other3-14","text":"Holy Symbol"},{"id":"option-other3-15","text":"Star Chart"},{"id":"option-other3-16","text":"Portable Alchemy Kit"},{"id":"option-other3-17","text":"Void Pocket"},{"id":"option-other3-18","text":"Shapeshifting Cloak"},{"id":"option-other3-19","text":"Summoning Mark"},{"id":"option-other3-20","text":"Explosion-Proof Charm"}]}]');class o{constructor(){this.properties=[],this.results=[],this.loadFromLocalStorage(),this.initEventListeners(),this.applyLanguage()}getSampleData(){return"en"===(document.documentElement.getAttribute("lang")||"zh-TW")?e:t}initEventListeners(){document.getElementById("addPropertyBtn").addEventListener("click",()=>this.addProperty()),document.getElementById("newPropertyName").addEventListener("keypress",t=>{"Enter"===t.key&&this.addProperty()}),document.getElementById("generateBtn").addEventListener("click",()=>this.generateIdeas()),document.getElementById("generateSampleBtn").addEventListener("click",()=>this.generateSampleData()),document.getElementById("jsonFileInput").addEventListener("change",t=>{t.target.files.length>0&&(this.importPropertiesFromJson(t.target.files[0]),t.target.value="")}),document.getElementById("pasteJsonBtn").addEventListener("click",()=>{document.getElementById("jsonPasteModal").style.display="flex"}),document.querySelector(".close-modal").addEventListener("click",()=>{document.getElementById("jsonPasteModal").style.display="none"}),document.getElementById("importPastedJsonBtn").addEventListener("click",()=>{const t=document.getElementById("jsonPasteArea").value.trim();t?(this.importPropertiesFromJsonText(t),document.getElementById("jsonPasteModal").style.display="none",document.getElementById("jsonPasteArea").value=""):alert(this.getTranslation("paste-json-before-import"))}),window.addEventListener("click",t=>{const e=document.getElementById("jsonPasteModal");t.target===e&&(e.style.display="none")}),document.getElementById("togglePropertiesBtn").addEventListener("click",t=>{const e=document.getElementById("propertiesContent"),o=t.currentTarget.querySelector("i");"none"===e.style.display?(e.style.display="block",o.textContent="ğŸ”½"):(e.style.display="none",o.textContent="â–¶ï¸")}),document.getElementById("toggleResultsBtn").addEventListener("click",t=>{const e=document.getElementById("resultsContent"),o=t.currentTarget.querySelector("i");"none"===e.style.display?(e.style.display="block",o.textContent="ğŸ”½"):(e.style.display="none",o.textContent="â–¶ï¸")}),document.getElementById("displayJsonBtn").addEventListener("click",()=>{this.displayPropertiesJson()}),document.getElementById("closeModal").addEventListener("click",()=>{document.getElementById("jsonModal").style.display="none"}),document.getElementById("jsonModal").addEventListener("click",t=>{"jsonModal"===t.target.id&&(document.getElementById("jsonModal").style.display="none")}),document.getElementById("copyJsonBtn").addEventListener("click",()=>{this.copyJsonToClipboard()}),document.getElementById("downloadJsonBtn").addEventListener("click",()=>{this.exportPropertiesToJson()}),document.getElementById("wipeDataBtn").addEventListener("click",()=>{this.showWipeConfirmation()}),document.getElementById("confirmWipeBtn").addEventListener("click",()=>{this.wipeAllData(),this.hideWipeConfirmation()}),document.getElementById("cancelWipeBtn").addEventListener("click",()=>{this.hideWipeConfirmation()}),document.getElementById("wipeConfirmationModal").addEventListener("click",t=>{"wipeConfirmationModal"===t.target.id&&this.hideWipeConfirmation()})}addProperty(){const t=document.getElementById("newPropertyName"),e=t.value.trim();if(!e)return void alert("Please enter a property name");if(this.properties.some(t=>t.name.toLowerCase()===e.toLowerCase()))return void alert("A property with this name already exists");const o={id:"property-"+Date.now(),name:e,options:[],optionsToGenerate:1,enabled:!0};this.properties.push(o),this.renderProperty(o),t.value="",this.saveToLocalStorage()}reorderProperties(t,e,o){const i=this.properties.findIndex(e=>e.id===t),n=this.properties.findIndex(t=>t.id===e);if(-1===i||-1===n)return;const[r]=this.properties.splice(i,1);let a=n;a=i<n?o?n-1:n:o?n:n+1,this.properties.splice(a,0,r),this.renderProperties(),this.saveToLocalStorage()}renderProperties(){const t={};document.querySelectorAll(".property-item").forEach(e=>{const o=e.querySelector(".property-content");o&&(t[e.id]="none"!==o.style.display)}),document.getElementById("propertyList").innerHTML="",this.properties.forEach(t=>{this.renderProperty(t)}),Object.keys(t).forEach(e=>{const o=document.getElementById(e);if(o){const i=o.querySelector(".property-content"),n=o.querySelector(".toggle-property-btn");i&&n&&(t[e]?(i.style.display="block",n.textContent="â–¼"):(i.style.display="none",n.textContent="â–¶"))}})}renderProperty(t){const e=document.getElementById("propertyList"),o=document.createElement("div");o.className="property-item "+(t.enabled?"":"disabled"),o.id=t.id,o.innerHTML=`\n      <div class="property-header">\n        <div class="drag-handle" title="æ‹–æ‹½ä»¥é‡æ–°æ’åº">â‹®â‹®</div>\n        <h3 class="property-name" data-property-id="${t.id}">${t.name}</h3>\n        <div class="property-controls">\n          <button class="enable-toggle-btn ${t.enabled?"enabled":"disabled"}" \n                  data-property-id="${t.id}" \n                  title="${t.enabled?this.getTranslation("disable-property"):this.getTranslation("enable-property")}">\n            ${t.enabled?"âœ“":"âœ—"}\n          </button>\n          <button class="toggle-property-btn">â–¼</button>\n          <button class="remove-btn" data-property-id="${t.id}">ğŸ—‘ï¸</button>\n        </div>\n      </div>\n      <div class="property-content">\n        <div class="property-options" id="options-${t.id}"></div>\n        <div class="add-option">\n          <input type="text" id="newOption-${t.id}" placeholder="æ–°é¸é …" data-i18n-placeholder="add-option-placeholder" />\n          <button class="add-option-btn" data-property-id="${t.id}">+</button>\n        </div>\n        <div class="property-settings">\n          <label for="optionsCount-${t.id}" data-i18n="options-count-label">é¸é …æ•¸é‡:</label>\n          <input type="number" id="optionsCount-${t.id}" class="options-count-input" min="1" value="${t.optionsToGenerate}" data-property-id="${t.id}" />\n        </div>\n      </div>\n    `,e.appendChild(o);let i=!1,n=!1,r=0,a=0,p=0;const d=this;function s(t){if(!i)return;const e=Math.abs(t.clientY-a),r=Math.abs(t.clientX-p);if(e>5||r>5){n||(n=!0,o.style.position="relative",o.style.zIndex="1000",o.classList.add("dragging"),document.body.style.cursor="grabbing");const e=t.clientY-a;o.style.transform=`translateY(${e}px)`;const i=document.elementsFromPoint(t.clientX,t.clientY).find(t=>t.classList.contains("property-item")&&t!==o&&!t.classList.contains("dragging"));if(document.querySelectorAll(".drag-over-top, .drag-over-bottom").forEach(t=>{t.classList.remove("drag-over-top","drag-over-bottom")}),i){const e=i.getBoundingClientRect(),o=e.top+e.height/2;t.clientY<o?i.classList.add("drag-over-top"):i.classList.add("drag-over-bottom")}}}function l(e){if(i){if(i=!1,document.body.style.cursor="",document.body.style.userSelect="",n){o.style.position="",o.style.zIndex="",o.style.transform="",o.classList.remove("dragging");const i=document.elementsFromPoint(e.clientX,e.clientY).find(t=>t.classList.contains("property-item")&&t!==o);if(i){const o=i.id,n=i.getBoundingClientRect(),r=e.clientY<n.top+n.height/2;d.reorderProperties(t.id,o,r)}document.querySelectorAll(".drag-over-top, .drag-over-bottom").forEach(t=>{t.classList.remove("drag-over-top","drag-over-bottom")})}else{const t=o.querySelector(".property-header"),i=(o.querySelector(".property-content"),document.elementFromPoint(e.clientX,e.clientY));if(t&&(t.contains(i)||i.classList.contains("property-name"))){const t=o.querySelector(".toggle-property-btn"),e=o.querySelector(".property-content");"none"===e.style.display?(e.style.display="block",t.textContent="â–¼"):(e.style.display="none",t.textContent="â–¶")}}document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)}}o.addEventListener("mousedown",function(t){const e=["button","input","select","textarea","a",".remove-btn",".add-option-btn",".enable-toggle-btn",".toggle-property-btn",".options-count-input"];let d=t.target,c=!1;for(;d&&d!==o;){if(e.some(t=>t.startsWith(".")?d.classList.contains(t.substring(1)):d.tagName.toLowerCase()===t)){c=!0;break}d=d.parentElement}c||(t.preventDefault(),i=!0,n=!1,r=o.offsetTop,a=t.clientY,p=t.clientX,document.addEventListener("mousemove",s),document.addEventListener("mouseup",l),document.body.style.userSelect="none")}),o.querySelector(".remove-btn").addEventListener("click",()=>this.removeProperty(t.id)),o.querySelector(".add-option-btn").addEventListener("click",()=>this.addOption(t.id)),o.querySelector(".enable-toggle-btn").addEventListener("click",()=>this.togglePropertyEnabled(t.id)),o.querySelector(".property-name").addEventListener("dblclick",()=>this.startEditingPropertyName(t.id)),o.querySelector(`#newOption-${t.id}`).addEventListener("keypress",e=>{"Enter"===e.key&&this.addOption(t.id)}),o.querySelector(".options-count-input").addEventListener("change",e=>this.updateOptionsToGenerate(t.id,e.target.value)),t.options.forEach(e=>{this.renderOption(t,e)});const c=o.querySelector(".toggle-property-btn"),y=o.querySelector(".property-content");c.addEventListener("click",function(){"none"===y.style.display?(y.style.display="block",this.textContent="â–¼"):(y.style.display="none",this.textContent="â–¶")})}togglePropertyEnabled(t){const e=this.properties.find(e=>e.id===t);if(!e)return;const o=this.properties.filter(t=>t.enabled);if(e.enabled&&1===o.length){const t=this.getTranslation("must-keep-one-property");return void alert(t)}e.enabled=!e.enabled;const i=document.getElementById(t),n=i.querySelector(".enable-toggle-btn");e.enabled?(i.classList.remove("disabled"),n.classList.remove("disabled"),n.classList.add("enabled"),n.textContent="âœ“",n.title=this.getTranslation("disable-property")):(i.classList.add("disabled"),n.classList.remove("enabled"),n.classList.add("disabled"),n.textContent="âœ—",n.title=this.getTranslation("enable-property")),this.saveToLocalStorage()}generateIdeas(){const t=this.properties.filter(t=>t.enabled);if(0===t.length){const t=this.getTranslation("no-enabled-properties");return void alert(t)}const e=t.filter(t=>0===t.options.length);if(e.length>0){const t=this.getTranslation("properties-need-options").replace("{properties}",e.map(t=>t.name).join(", "));return void alert(t)}const o=parseInt(document.getElementById("generationCount").value);this.results=[];for(let e=0;e<o;e++){const e={};t.forEach(t=>{const o=[],i=Math.min(t.optionsToGenerate,t.options.length),n=[...t.options];for(let t=0;t<i&&0!==n.length;t++){const t=Math.floor(Math.random()*n.length);o.push(n[t].text),n.splice(t,1)}e[t.name]=o}),this.results.push(e)}this.renderResults()}importPropertiesFromJsonText(t){try{const e=JSON.parse(t);if(!Array.isArray(e)){const t=this.getTranslation("json-must-be-array");return void alert(t)}this.properties=[],document.getElementById("propertyList").innerHTML="",e.forEach((t,e)=>{if(t.name&&Array.isArray(t.options)){const o={id:`property-${Date.now()}-${e}`,name:t.name,options:t.options.map((t,o)=>({id:`option-${Date.now()}-${e}-${o}`,text:"string"==typeof t?t:t.text||t})),optionsToGenerate:t.optionsToGenerate||1,enabled:void 0===t.enabled||t.enabled};this.properties.push(o),this.renderProperty(o)}}),this.saveToLocalStorage();const o=this.getTranslation("import-success").replace("{count}",this.properties.length);alert(o),document.getElementById("jsonPasteModal").style.display="none",document.getElementById("jsonPasteArea").value=""}catch(t){const e=this.getTranslation("import-error").replace("{error}",t.message);alert(e)}}removeProperty(t){this.properties=this.properties.filter(e=>e.id!==t),document.getElementById(t).remove(),this.saveToLocalStorage()}startEditingPropertyName(t){const e=this.properties.find(e=>e.id===t);if(!e)return;const o=document.querySelector(`.property-name[data-property-id="${t}"]`);if(!o)return;const i=document.createElement("input");i.type="text",i.value=e.name,i.className="property-name-editor",i.style.cssText="\n      width: 100%;\n      font-size: inherit;\n      font-weight: inherit;\n      border: 2px solid var(--accent-color);\n      background: var(--bg-secondary);\n      color: var(--text-primary);\n      padding: 4px 8px;\n      border-radius: 4px;\n      outline: none;\n    ",o.style.display="none",o.parentNode.insertBefore(i,o),i.focus(),i.select();let n=!0;const r=()=>{if(!n)return;n=!1;const e=i.value.trim();e&&this.validatePropertyName(e,t)&&this.updatePropertyName(t,e),this.cancelEdit(t,i,o)},a=()=>{n&&(n=!1,this.cancelEdit(t,i,o))};i.addEventListener("blur",r),i.addEventListener("keypress",t=>{"Enter"===t.key?r():"Escape"===t.key&&a()})}cancelEdit(t,e,o){e&&e.parentNode&&e.parentNode.removeChild(e),o&&(o.style.display="")}validatePropertyName(t,e=null){return t.trim()?!this.properties.find(o=>o.name.toLowerCase()===t.toLowerCase()&&o.id!==e)||(alert(this.getTranslation("property-name-exists")||"A property with this name already exists"),!1):(alert(this.getTranslation("property-name-empty")||"Property name cannot be empty"),!1)}updatePropertyName(t,e){const o=this.properties.find(e=>e.id===t);if(!o)return;o.name=e;const i=document.querySelector(`.property-name[data-property-id="${t}"]`);i&&(i.textContent=e),this.saveToLocalStorage()}addOption(t){const e=this.properties.find(e=>e.id===t),o=document.getElementById(`newOption-${t}`),i=o.value.trim();if(!i)return void alert("Please enter an option");if(e.options.some(t=>t.text.toLowerCase()===i.toLowerCase()))return void alert("This option already exists for this property");const n={id:"option-"+Date.now(),text:i};e.options.push(n),this.renderOption(e,n),o.value="",this.saveToLocalStorage()}renderOption(t,e){const o=document.getElementById(`options-${t.id}`),i=document.createElement("div");i.className="option-item",i.id=e.id,i.innerHTML=`\n      <span>${e.text}</span>\n      <button class="remove-btn" data-property-id="${t.id}" data-option-id="${e.id}">âŒ</button>\n    `,i.querySelector(".remove-btn").addEventListener("click",()=>this.removeOption(t.id,e.id)),o.appendChild(i)}removeOption(t,e){const o=this.properties.find(e=>e.id===t);o.options=o.options.filter(t=>t.id!==e),document.getElementById(e).remove(),this.saveToLocalStorage()}updateOptionsToGenerate(t,e){this.properties.find(e=>e.id===t).optionsToGenerate=parseInt(e),this.saveToLocalStorage()}generateIdeas(){const t=this.properties.filter(t=>!1!==t.enabled);if(0===t.length)return void alert(this.getTranslation("no-enabled-properties"));const e=t.filter(t=>0===t.options.length);if(e.length>0)return void alert(this.getTranslation("properties-need-options").replace("{properties}",e.map(t=>t.name).join(", ")));const o=parseInt(document.getElementById("generationCount").value);this.results=[];for(let e=0;e<o;e++){const e={};t.forEach(t=>{const o=[],i=Math.min(t.optionsToGenerate,t.options.length),n=[...t.options];for(let t=0;t<i&&0!==n.length;t++){const t=Math.floor(Math.random()*n.length);o.push(n[t].text),n.splice(t,1)}e[t.name]=o}),this.results.push(e)}this.renderResults()}renderResults(){const t=document.getElementById("resultsContent");t.innerHTML="",0!==this.results.length?(this.results.forEach((e,o)=>{const i=document.createElement("div");i.className="character-idea";let n=`\n        <div class="character-header">\n          <h3>Character Idea ${o+1}</h3>\n          <button class="toggle-property-btn">â–¼</button>\n        </div>\n        <div class="character-content">\n      `;Object.entries(e).forEach(([t,e])=>{n+='<div class="character-property">',n+=`<span class="property-label">${t}:</span>`,n+=`<span class="property-value">${e.join(", ")}</span>`,n+="</div>"}),n+="</div>",i.innerHTML=n,t.appendChild(i)}),document.querySelectorAll(".character-idea .toggle-property-btn").forEach(t=>{t.addEventListener("click",function(){const t=this.parentElement.parentElement.querySelector(".character-content");"none"===t.style.display?(t.style.display="block",this.textContent="â–¼"):(t.style.display="none",this.textContent="â–¶")})})):t.innerHTML="<p>No character ideas generated yet.</p>"}displayPropertiesJson(){const t=document.getElementById("jsonDisplay"),e=document.getElementById("copyJsonBtn"),o=document.getElementById("downloadJsonBtn"),i=document.getElementById("jsonModal");if(0===this.properties.length)t.textContent=this.getTranslation("no-properties-display"),e.style.display="none",o.style.display="none";else{const i=JSON.stringify(this.properties,null,2);t.textContent=i,e.style.display="inline-block",o.style.display="inline-block"}i.style.display="flex"}getTranslation(t){const e=document.documentElement.getAttribute("lang")||"zh-TW";return i[e][t]||i.en[t]||t}copyJsonToClipboard(){const t=document.getElementById("jsonDisplay").textContent;t&&t!==this.getTranslation("no-properties-display")?navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then(()=>{alert(this.getTranslation("json-copied-success"))}).catch(()=>{this.fallbackCopyToClipboard(t)}):this.fallbackCopyToClipboard(t):alert(this.getTranslation("no-json-data-copy"))}fallbackCopyToClipboard(t){const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),alert(this.getTranslation("json-copied-success"))}catch(t){alert(this.getTranslation("copy-failed-manual"))}document.body.removeChild(e)}exportPropertiesToJson(){if(0===this.properties.length)return void alert(this.getTranslation("no-properties-export"));const t=JSON.stringify(this.properties,null,2),e=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download="character-properties.json",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),alert(this.getTranslation("export-success"))}saveToLocalStorage(){try{localStorage.setItem("characterGeneratorProperties",JSON.stringify(this.properties))}catch(t){console.error("Failed to save to localStorage:",t)}}loadFromLocalStorage(){try{const t=localStorage.getItem("characterGeneratorProperties");t&&(this.properties=JSON.parse(t),this.properties.forEach(t=>{this.renderProperty(t)}))}catch(t){console.error("Failed to load from localStorage:",t),this.properties=[]}}showWipeConfirmation(){document.getElementById("wipeConfirmationModal").style.display="flex"}hideWipeConfirmation(){document.getElementById("wipeConfirmationModal").style.display="none"}wipeAllData(){this.properties=[],document.getElementById("propertyList").innerHTML="",document.getElementById("resultsContent").innerHTML="",localStorage.removeItem("characterGeneratorProperties"),alert(this.getTranslation("wipe-success"))}generateSampleData(){this.properties=[],document.getElementById("propertyList").innerHTML="";const t=this.getSampleData();this.properties=JSON.parse(JSON.stringify(t)).map(t=>({...t,enabled:void 0===t.enabled||t.enabled})),this.properties.forEach(t=>{this.renderProperty(t)}),this.saveToLocalStorage();const e=this.getTranslation("sample-load-success").replace("{count}",t.length);alert(e)}applyLanguage(){const t=localStorage.getItem("language")||"zh-TW";document.documentElement.setAttribute("lang",t),document.querySelectorAll("[data-i18n]").forEach(e=>{const o=e.getAttribute("data-i18n");i[t]&&i[t][o]&&(e.textContent=i[t][o])}),document.querySelectorAll("[data-i18n-placeholder]").forEach(e=>{const o=e.getAttribute("data-i18n-placeholder");i[t]&&i[t][o]&&(e.placeholder=i[t][o])}),document.querySelectorAll("[data-i18n-title]").forEach(e=>{const o=e.getAttribute("data-i18n-title");i[t]&&i[t][o]&&(e.title=i[t][o])})}}const i={"zh-TW":{"app-title":"è§’è‰²æ§‹æ€ç”¢ç”Ÿå™¨","app-subtitle":"ç‚ºæ‚¨çš„å‰µæ„å°ˆæ¡ˆç”¢ç”Ÿç¨ç‰¹çš„è§’è‰²æ¦‚å¿µ","properties-header":"è§’è‰²å±¬æ€§","generation-header":"ç”Ÿæˆè¨­å®š","results-header":"å·²ç”Ÿæˆçš„è§’è‰²æ§‹æ€","add-property-placeholder":"æ–°å±¬æ€§åç¨±ï¼ˆä¾‹å¦‚ï¼šç¨®æ—ã€é«®å‹ï¼‰","add-property-btn":"æ–°å¢å±¬æ€§","display-json-btn":"é¡¯ç¤º JSON","paste-json-btn":"è²¼ä¸Š JSON","generate-sample-btn":"ğŸ“‹ ç”Ÿæˆç¯„ä¾‹","wipe-data-btn":"ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰è³‡æ–™","generation-count-label":"è¦ç”Ÿæˆçš„è§’è‰²æ•¸é‡ï¼š","generate-btn":"ç”Ÿæˆæ§‹æ€","options-count-label":"é¸é …æ•¸é‡:","add-option-placeholder":"æ–°é¸é …","warning-title":"âš ï¸ è­¦å‘Š","wipe-confirmation":"æ‚¨ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰å±¬æ€§è³‡æ–™å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚","confirm-wipe-btn":"æ˜¯çš„ï¼Œæ¸…é™¤æ‰€æœ‰","cancel-btn":"å–æ¶ˆ","paste-json-title":"è²¼ä¸Š JSON è³‡æ–™","paste-json-placeholder":"åœ¨æ­¤è²¼ä¸Šæ‚¨çš„ JSON è³‡æ–™...","import-btn":"åŒ¯å…¥","json-properties-title":"JSON å±¬æ€§","copy-clipboard-btn":"è¤‡è£½åˆ°å‰ªè²¼ç°¿","download-file-btn":"ä¸‹è¼‰æª”æ¡ˆ","footer-text":"è§’è‰²æ§‹æ€ç”¢ç”Ÿå™¨ - ç‚ºå‰µæ„å°ˆæ¡ˆè€Œå‰µå»º","expand-collapse":"å±•é–‹/æ”¶åˆ","return-to-top":"è¿”å›é ‚éƒ¨","toggle-theme":"åˆ‡æ›æ·±è‰²/æ·ºè‰²æ¨¡å¼","toggle-language":"åˆ‡æ›èªè¨€ (EN/ä¸­æ–‡)","no-json-data-copy":"æ²’æœ‰ JSON è³‡æ–™å¯è¤‡è£½","json-copied-success":"JSON å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼","copy-failed-manual":"è¤‡è£½ JSON å¤±æ•—ã€‚è«‹å¾æ–‡å­—å€åŸŸæ‰‹å‹•è¤‡è£½ã€‚","no-properties-export":"æ²’æœ‰å±¬æ€§å¯åŒ¯å‡ºã€‚è«‹å…ˆæ–°å¢ä¸€äº›å±¬æ€§ã€‚","export-success":"å±¬æ€§åŒ¯å‡ºæˆåŠŸï¼","no-properties-display":"æ²’æœ‰å±¬æ€§å¯é¡¯ç¤ºã€‚è«‹å…ˆæ–°å¢ä¸€äº›å±¬æ€§ã€‚","json-must-be-array":"JSON å¿…é ˆåŒ…å«å±¬æ€§é™£åˆ—","import-success":"æˆåŠŸåŒ¯å…¥ {count} å€‹å±¬æ€§ï¼","import-error":"åŒ¯å…¥ JSON æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼š{error}","paste-json-before-import":"è«‹åœ¨åŒ¯å…¥å‰è²¼ä¸Š JSON è³‡æ–™","wipe-success":"æ‰€æœ‰è³‡æ–™å·²æˆåŠŸæ¸…é™¤ï¼","sample-load-success":"æˆåŠŸè¼‰å…¥ {count} å€‹ç¯„ä¾‹å±¬æ€§ï¼","enable-property":"å•Ÿç”¨å±¬æ€§","disable-property":"åœç”¨å±¬æ€§","must-keep-one-property":"è‡³å°‘å¿…é ˆä¿æŒä¸€å€‹å±¬æ€§ç‚ºå•Ÿç”¨ç‹€æ…‹","no-enabled-properties":"æ²’æœ‰å•Ÿç”¨çš„å±¬æ€§ã€‚è«‹è‡³å°‘å•Ÿç”¨ä¸€å€‹å±¬æ€§å¾Œå†ç”Ÿæˆæ§‹æ€ã€‚","properties-need-options":"ä»¥ä¸‹å±¬æ€§éœ€è¦è‡³å°‘ä¸€å€‹é¸é …ï¼š{properties}","property-name-empty":"å±¬æ€§åç¨±ä¸èƒ½ç‚ºç©º","property-name-exists":"å·²å­˜åœ¨åŒåçš„å±¬æ€§"},en:{"app-title":"Character Idea Generator","app-subtitle":"Generate unique character concepts for your creative projects","properties-header":"Character Properties","generation-header":"Generation Settings","results-header":"Generated Character Ideas","add-property-placeholder":"New property name (e.g., Race, Hair Style)","add-property-btn":"Add Property","display-json-btn":"Display JSON","paste-json-btn":"Paste JSON","generate-sample-btn":"ğŸ“‹ Generate Sample","wipe-data-btn":"ğŸ—‘ï¸ Wipe All Data","generation-count-label":"Number of characters to generate:","generate-btn":"Generate Ideas","options-count-label":"Options Count:","add-option-placeholder":"New option","warning-title":"âš ï¸ Warning","wipe-confirmation":"Are you sure you want to wipe all property data? This action cannot be undone.","confirm-wipe-btn":"Yes, Wipe All","cancel-btn":"Cancel","paste-json-title":"Paste JSON Data","paste-json-placeholder":"Paste your JSON data here...","import-btn":"Import","json-properties-title":"JSON Properties","copy-clipboard-btn":"Copy to Clipboard","download-file-btn":"Download File","footer-text":"Character Idea Generator - Created for creative projects","expand-collapse":"Expand/Collapse","return-to-top":"Return to top","toggle-theme":"Toggle Dark/Light Mode","toggle-language":"Toggle Language (EN/ä¸­æ–‡)","no-json-data-copy":"No JSON data to copy","json-copied-success":"JSON copied to clipboard!","copy-failed-manual":"Failed to copy JSON. Please copy manually from the text area.","no-properties-export":"No properties to export. Add some properties first.","export-success":"Properties exported successfully!","no-properties-display":"No properties to display. Add some properties first.","json-must-be-array":"JSON must contain an array of properties","import-success":"Successfully imported {count} properties!","import-error":"Error importing JSON: {error}","paste-json-before-import":"Please paste JSON data before importing","wipe-success":"All data has been wiped successfully!","sample-load-success":"Successfully loaded {count} sample properties!","enable-property":"Enable Property","disable-property":"Disable Property","must-keep-one-property":"At least one property must remain enabled","no-enabled-properties":"No enabled properties. Please enable at least one property before generating ideas.","properties-need-options":"The following properties need at least one option: {properties}","property-name-empty":"Property name cannot be empty","property-name-exists":"A property with this name already exists"}};let n;document.addEventListener("DOMContentLoaded",()=>{n=new o});const r=document.getElementById("returnToTopBtn");window.addEventListener("scroll",()=>{window.pageYOffset>300?r.classList.add("visible"):r.classList.remove("visible")}),r.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const a=document.getElementById("themeToggle"),p=a.querySelector(".theme-icon");document.documentElement.setAttribute("data-theme","dark");const d=localStorage.getItem("theme")||"dark";function s(t){p.textContent="dark"===t?"â˜€ï¸":"ğŸŒ™"}document.documentElement.setAttribute("data-theme",d),s(d),a.addEventListener("click",()=>{const t="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),s(t)});const l=document.getElementById("languageToggle"),c=localStorage.getItem("language")||"zh-TW";document.documentElement.setAttribute("lang",c),l.addEventListener("click",()=>{const t="zh-TW"===document.documentElement.getAttribute("lang")?"en":"zh-TW";localStorage.setItem("language",t),document.documentElement.setAttribute("lang",t),n.applyLanguage()})})();